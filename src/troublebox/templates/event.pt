<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>troublebox event ${event.event_id}</title>
    <style>
        dl dt {
            font-weight: bold;
        }
        pre {
            background: #f5f5f5;
        }
    </style>
</head>
<body>
    <header><h1>troublebox event ${event.event_id}</h1></header>
    <nav>
        <a href="${request.route_url('index')}">Back to index</a>
        <a href="${request.route_url('project', project=event.project)}">Back to overview</a>
    </nav>
    <main>
        <h1>${event.event_id}</h1>
        <dl>
            <tal:items repeat="(key, value) sorted(event.data.items())">
                <dt>${key.title()}</dt>
                <tal:exception_values condition="key == 'exception' and 'values' in value">
                    <dd tal:define="exc_values value.pop('values')" tal:repeat="exc exc_values">
                        <pre>${pformat(exc)}</pre>
                    </dd>
                </tal:exception_values>
                <dd tal:condition="value and isinstance(value, (dict, list))"><pre>${pformat(value)}</pre></dd>
                <dd tal:condition="value and not isinstance(value, (dict, list))">${value}</dd>
            </tal:items>
        </dl>
    </main>
    <nav>
        <a href="${request.route_url('index')}">Back to index</a>
        <a href="${request.route_url('project', project=event.project)}">Back to overview</a>
    </nav>
</body>
</html>
